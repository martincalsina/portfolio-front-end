<section id="experience" class="container mt-5 mb-5">

    <div class="experience-title d-flex justify-content-between">
        <h3>Experience</h3>
        <button *ngIf="isLoggedIn"
        type="button" class="btn btn-add btn-warning" data-bs-toggle="modal" data-bs-target="#addExperience">
            <i class="fa fa-plus bg-warning"></i>
        </button>
    </div>

    <hr class="section-separator">

    <ul class="experience-list list-group list-group-flush">
        <li *ngFor="let experience of experiences" class="list-group-item d-flex justify-content-between align-items-start">
                <div class="ms-2 me-auto">
                    <div class="experience-institution fw-bold">
                        <i class="fa fa-solid fa-industry"></i> {{experience.getInstitution()}}
                    </div>
                    <div class="experience-title fw-semibold">
                        <i class="fa-solid fa-helmet-safety"></i> {{experience.getPosition()}}
                    </div>
                    <p class="experience-description text-wrap">{{experience.getDescription()}}</p>
                </div>
                <div>
                    <span class="experience-date badge rounded-pill">
                        From {{ experience.getStartDate() | date:'MMM, y' }}{{ experience.getEndDate() ? ' To ' + (experience.getEndDate() | date:'MMM, y') : ' To Present' }}
                    </span>
                    <div *ngIf="isLoggedIn" class="d-flex justify-content-evenly mt-2">
                        <button
                         (click)="changeSelectedExperience(experience)"
                        type="button" class="btn btn-success" data-bs-toggle="modal" data-bs-target="#editExperience">
                            <i class="fa fa-pencil"></i>
                        </button>
                        <button 
                        (click)="changeSelectedExperience(experience)"
                        type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#deleteExperience">
                            <i class="fa fa-trash"></i>
                        </button>
                    </div>
                </div>
        </li>
    </ul>

</section>

<!--MODALS-->
<app-create-experience></app-create-experience>
<app-edit-experience [experienceToEdit]="selectedExperience"></app-edit-experience>
<app-delete-experience [experienceToDelete]="selectedExperience"></app-delete-experience>